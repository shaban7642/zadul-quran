(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{2961:function(a,b,c){"use strict";var d=c(4836);b.Z=void 0;var e=d(c(4938)),f=c(5893),g=(0,e.default)((0,f.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");b.Z=g},2450:function(a,b,c){"use strict";var d=c(4836);b.Z=void 0;var e=d(c(4938)),f=c(5893),g=(0,e.default)((0,f.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");b.Z=g},7070:function(a,b,c){"use strict";c(7294);var d=c(8169),e=c(5893);b.Z=(0,d.Z)((0,e.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},6686:function(a,b,c){"use strict";c(7294);var d=c(8169),e=c(5893);b.Z=(0,d.Z)((0,e.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},2288:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return c(131)}])},5535:function(a,b,c){"use strict";c.d(b,{h:function(){return j}});var d=c(4727),e=c(5815),f=c(4051),g=c.n(f),h=c(5485),i=function(){function a(){(0,e.Z)(this,a)}var b=a.prototype;return b.getRoles=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/roles");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getAllPermissions=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/permissions");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getRolePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.get("/settings/all/rolePermissions/?roleId=".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.addPermissions=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){try{var e=h.E.post("/settings/add/permission",{permissionIds:a,roleId:b});c(e)}catch(f){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},b.removePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.post("/settings/remove/permission",{rolePermissionsIds:a});b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},a}(),j=new i},3657:function(a,b,c){"use strict";c.d(b,{e:function(){return l}});var d=c(4251),e=c(5893),f=c(7294),g=c(7357),h=c(5861),i=c(6242),j=function(a){var b=a.text,c=a.pass;return(0,e.jsxs)(g.Z,{children:[c&&(0,e.jsx)("img",{alt:"",src:"/static/images/passed-tick"}),!c&&(0,e.jsx)("img",{alt:"",src:"/static/images/default-tick"}),(0,e.jsx)(h.Z,{sx:{fontSize:"14px",margin:0,display:"inline-block",color:c?"#2fc083":"#adadad",fontWeight:400,letterSpacing:"0.02rem",marginLeft:"10px"},children:b})]})},k=["!","#","$","%","&","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","]","^","_","`","{","|","}","~",],l=function(a){var b=a.password,c=a.className,l=a.sx,m=(0,f.useState)(!1),n=m[0],o=m[1],p=(0,f.useState)(!1),q=p[0],r=p[1],s=(0,f.useState)(!1),t=s[0],u=s[1],v=(0,f.useState)(!1),w=v[0],x=v[1];(0,f.useEffect)(function(){y(b)},[b]);var y=function(a){var b=function(a){return k.includes(a)};a.length>=8&&o(!0),a.match(/(?=.*[A-Z])/)&&r(!0),a.match(/(?=.*[a-z])/)&&u(!0),a.split("").some(b)||x(!1),a.length<=7&&o(!1),a.match(/(?=.*[A-Z])/)||r(!1),a.match(/(?=.*[a-z])/)||u(!1),a.match(/^(?=.*[0-9])/)||x(!1),a.split("").some(b)&&x(!0)};return(0,e.jsxs)(i.Z,{sx:(0,d.Z)({height:"auto",width:"250px",position:"absolute",background:"#ffffff",zIndex:2,bottom:"-260px",padding:"20px 20px 10px 20px","-webkit-box-shadow":"0px 4px 15px -5px rgba(0,0,0,0.3)",boxShadow:"0px 10px 15px -5px rgba(0,0,0,0.2)"},l),className:c,children:[(0,e.jsx)(h.Z,{variant:"subtitle2",children:"Your password must have:"}),(0,e.jsxs)(g.Z,{sx:{marginTop:"10px",marginBottom:"10px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",height:"auto"},children:[(0,e.jsx)(j,{pass:n,text:"At least 8 Characters Long"}),(0,e.jsx)(j,{pass:q,text:"One Uppercase"}),(0,e.jsx)(j,{pass:t,text:"One Lowercase"}),(0,e.jsx)(j,{pass:w,text:"One Number and Symbol"})]})]})}},131:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return _}});var d=c(5893),e=c(7294),f=c(7357),g=c(44),h=c(5670),i=c(6568),j=c(4769),k=c(5861),l=c(1163),m=c(4727),n=c(4251),o=c(2875),p=c(4051),q=c.n(p),r=c(1812),s=c(6886),t=c(629),u=c(1796),v=c(8462),w=c(891),x=c(135),y=c(4054),z=c(3841),A=c(153),B=c(8972),C=c(2175),D=c(6501),E=c(6310),F=c(2455),G=c(5535),H=c(4455),I=c(8935),J=c(381),K=c.n(J),L=c(1076),M=c(8496),N=c(7704),O=function(a){var b,c,g,h,i,j,p,J,O,P,Q,R,S=a.id,T=(0,N.a)().user,U=(0,l.useRouter)(),V=(0,e.useState)([]),W=V[0],X=V[1],Y=(0,e.useState)([]),Z=Y[0],$=Y[1],_=(0,e.useState)(!1),aa=_[0],ab=_[1],ac=(0,e.useState)(),ad=ac[0],ae=ac[1],af=(0,H.s)(),ag=(0,e.useState)([]),ah=ag[0],ai=ag[1],aj=(0,e.useState)({id:1,roleId:1,username:"",firstName:"",lastName:"",city:"",gender:"",birthDate:"",departmentId:1,email:"",zoomLink:"",phoneNumber:""}),ak=aj[0],al=aj[1],am=(0,e.useCallback)((0,m.Z)(q().mark(function a(){var b;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.u.getDepts(100,0);case 3:b=a.sent,af()&&$(b.rows),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),D.ZP.error(a.t0.message||"failed");case 10:case"end":return a.stop()}},a,null,[[0,7]])})),[af]),an=(0,e.useCallback)((0,m.Z)(q().mark(function a(){var b;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.h.getRoles();case 3:b=a.sent,af()&&X(b.resp),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),[af]);(0,e.useEffect)(function(){am(),an()},[]);var ao,ap,aq,ar,as,at,au=(R=(0,m.Z)(q().mark(function a(b){var c;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.B.getUserById(b);case 3:al(c=a.sent),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return R.apply(this,arguments)}),av=(ao=(0,m.Z)(q().mark(function a(b){var c,d,e;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=4,L.Q.getSessionByStudentId(b,!0);case 4:e=null==(d=a.sent)?void 0:null===(c=d.sessions)|| void 0===c?void 0:c.map(function(a){var b=Math.random().toString(36).substr(2,9);return(0,o.Z)((0,n.Z)({},a),{departmentId:a.patch.departmentId,sessionTypeId:a.sessionTypeId,sessionMethod:a.sessionMethod,studentId:a.patch.studentId,teacherId:a.patch.teacherId,dayOfWeek:a.patch.dayOfWeek,fromDate:a.patch.fromDate,endTime:K()("".concat(null==a?void 0:a.date.substr(0,11)).concat(a.endTime).concat(a.date.substr(19,24))).format("HH:mm")||"00:00",toDate:"",title:a.title,frontId:b})}),ae(e||[]),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,null,[[0,9]])})),function(a){return ao.apply(this,arguments)}),aw=(0,C.TA)({initialValues:{roleId:null==ak?void 0:ak.roleId,username:null==ak?void 0:ak.username,firstName:null==ak?void 0:ak.firstName,lastName:null==ak?void 0:ak.lastName,city:null==ak?void 0:ak.city,gender:null==ak?void 0:ak.gender,birthDate:null==ak?void 0:ak.birthDate,departmentId:null==ak?void 0:ak.departmentId,email:null==ak?void 0:ak.email,zoomLink:null==ak?void 0:ak.zoomLink,phoneNumber:null==ak?void 0:ak.phoneNumber},enableReinitialize:!0,validationSchema:(aq=4===(ap=null==ak?void 0:ak.roleId)?E.Z_().url("Zoom Link must be a url").required("Zoom link Is Required"):E.nK().nullable(),E.Ry({roleId:E.Rx(),username:E.Z_(),firstName:E.Z_(),lastName:E.Z_(),city:E.Z_(),gender:E.Z_(),birthDate:E.hT(),email:E.Z_().email("emailAddress"),zoomLink:aq,phoneNumber:E.Z_()})),onSubmit:(ar=(0,m.Z)(q().mark(function a(b){return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(null==ak?void 0:ak.roleId)!==4&&delete b.zoomLink,a.prev=1,a.next=4,ax(b);case 4:aw.resetForm(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[1,7]])})),function(a){return ar.apply(this,arguments)})}),ax=(as=(0,m.Z)(q().mark(function a(b){var c,d;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=D.ZP.loading("update"),a.prev=1,a.next=4,F.B.updateUser(S,b);case 4:if(!(d=a.sent).success){a.next=12;break}return au(S),D.ZP.dismiss(c),D.ZP.success("updated"),a.abrupt("return",{success:!0});case 12:return D.ZP.dismiss(c),D.ZP.error("updateFailed"),a.abrupt("return",{success:!1});case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(1),D.ZP.dismiss(c),D.ZP.error(a.t0.message||"updatesFailed"),a.abrupt("return",{success:!1});case 22:case"end":return a.stop()}},a,null,[[1,17]])})),function(a){return as.apply(this,arguments)}),ay=(at=(0,m.Z)(q().mark(function a(b){var c,d;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=D.ZP.loading("create"),a.prev=1,a.next=4,L.Q.createSession(b);case 4:if(!(d=a.sent)){a.next=11;break}return D.ZP.dismiss(c),D.ZP.success("createSessionSuccess"),a.abrupt("return",{success:!0});case 11:return D.ZP.dismiss(c),D.ZP.error("createSessionFailed"),a.abrupt("return",{success:!1});case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(1),D.ZP.dismiss(c),D.ZP.error(a.t0.message||"createSessionsFailed"),a.abrupt("return",{success:!1});case 21:case"end":return a.stop()}},a,null,[[1,16]])})),function(a){return at.apply(this,arguments)}),az=function(){U.push("/sessions?student=".concat(null==ak?void 0:ak.id))},aA=function(){ab(!0)};return(0,e.useEffect)(function(){au(S)},[S]),(0,e.useEffect)(function(){(null==ak?void 0:ak.roleId)!==4||aa||av(S)},[S,ak,aa]),(0,d.jsxs)(f.Z,{sx:{width:"100%",typography:"body1"},children:[(0,d.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,d.jsx)(s.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,children:(0,d.jsxs)(t.Z,{elevation:12,sx:(0,n.Z)({display:"flex",flexDirection:"column",padding:"20px 25px",minHeight:"280px",m:1},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h6",children:"prsonal information"}),(0,d.jsxs)(s.ZP,{container:!0,component:v.Z,children:[(0,d.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[" ",(0,d.jsxs)(w.ZP,{children:["Username:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.username)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Email:"," ",(0,d.jsx)(k.Z,{color:"black",sx:{overflowWrap:"break-word",minWidth:"120px"},children:(null==ak?void 0:ak.email)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["First name:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.firstName)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Last name:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.lastName)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["City:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.city)||"No data"})," "]})]}),(0,d.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[(0,d.jsxs)(w.ZP,{children:["Role:"," ",(0,d.jsx)(k.Z,{color:"black",children:function(){switch(null==ak?void 0:ak.roleId){case 1:return"Super Admin";case 2:return"Admin";case 3:return"Teacher";case 4:return"Student";case 5:return"Parent";default:return""}}()||"No data"})," "]}),(null==ak?void 0:ak.roleId)===4&&(0,d.jsxs)(w.ZP,{children:["Department:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:null===(b=ak.department)|| void 0===b?void 0:b.name)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Gender:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.gender)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Date of birth:",(0,d.jsxs)(k.Z,{color:"black",children:[" ",K()((null==ak?void 0:null===(c=ak.birthDate)|| void 0===c?void 0:c.toString())||"No data").format("MMM-D-YYYY")]})," "]}),(0,d.jsxs)(w.ZP,{children:["Phone number:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==ak?void 0:ak.phoneNumber)||"No data"})," "]}),(null==T?void 0:null===(g=T.role)|| void 0===g?void 0:g.name)==="teacher"&&ak&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(w.ZP,{sx:{borderTop:"1px solid #777"},children:["Students:",(0,d.jsx)(k.Z,{color:"black",children:(null===(h=null==ak?void 0:ak.students.map(function(a){return"".concat(a.firstName,"- ").concat(a.lastName," |")}))|| void 0===h?void 0:h.join(","))||"No data"})]})}),(null==T?void 0:null===(i=T.role)|| void 0===i?void 0:i.name)!=="student"&&ad&&Boolean(null==ad?void 0:ad.length)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(w.ZP,{sx:{borderTop:"1px solid #777"},children:["Session Title:",(0,d.jsx)(k.Z,{color:"black",children:(null===(j=ad[0])|| void 0===j?void 0:j.title)||"No data"})]}),(0,d.jsxs)(w.ZP,{sx:{borderTop:"1px solid #777"},children:["Duration:",(0,d.jsx)(k.Z,{color:"black",children:ah&&(null===(p=null==ah?void 0:ah.find(function(a){var b;return a.id===(null===(b=ad[0])|| void 0===b?void 0:b.sessionTypeId)}))|| void 0===p?void 0:p.duration)||"No data"})]}),(0,d.jsxs)(w.ZP,{sx:{borderTop:"1px solid #777"},children:["Days:",Boolean(null===(J=ad[0])|| void 0===J?void 0:null===(O=J.dayOfWeek)|| void 0===O?void 0:O.length)?(0,d.jsx)("ul",{children:ad[0].dayOfWeek.map(function(a){var b,c,e=null===(b=ad[0])|| void 0===b?void 0:null===(c=b.children)|| void 0===c?void 0:c.find(function(b){return K()(b.date).day()===a}),f=e.id,g=e.date,h=e.startTime,i=e.endTime;return(0,d.jsx)("li",{children:(0,d.jsxs)(k.Z,{color:"black",children:[K()(g).format("dddd"),":"," ",h&&K()(h,"hh:mm").format("hh:mm")," ","-"," ",i&&K()(i,"hh:mm").format("hh:mm")," "]})},f)})}):(0,d.jsx)(k.Z,{color:"black",children:"لا يوجد بيانات"})]})]})]})]}),(null==ak?void 0:ak.roleId)===4&&(null==T?void 0:null===(P=T.role)|| void 0===P?void 0:P.name)==="super_admin"&&ad&&(null==ad?void 0:ad.length)>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Z,{type:"button",onClick:function(){return az()},sx:{"& .MuiInputBase-root":{height:40,width:"100%"},m:.5,p:1},variant:"contained",children:"View Classes"}),(0,d.jsx)(r.Z,{type:"button",onClick:function(){return aA()},sx:{"& .MuiInputBase-root":{height:40,width:"100%"},m:.5,p:1},variant:"contained",children:"Renew Subscription"})]})]})}),(0,d.jsx)(s.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,children:(0,d.jsx)(t.Z,{elevation:12,sx:(0,n.Z)({m:1,p:2,minHeight:"280px"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:(0,d.jsxs)("form",{onSubmit:aw.handleSubmit,children:[(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.username&&aw.errors.username),helperText:aw.touched.username&&aw.errors.username,label:"username",margin:"normal",id:"username",name:"username",type:"text",onChange:aw.handleChange,value:aw.values.username,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.email&&aw.errors.email),helperText:aw.touched.email&&aw.errors.email,label:"email",margin:"normal",id:"email",name:"email",type:"email",onChange:aw.handleChange,value:aw.values.email,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(null==ak?void 0:ak.roleId)===4&&(0,d.jsx)(x.Z,{size:"small",sx:{width:{xs:"96%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.zoomLink&&aw.errors.zoomLink),helperText:aw.touched.zoomLink&&aw.errors.zoomLink,label:"Zoom Link",margin:"normal",id:"zoomLink",name:"zoomLink",type:"text",onChange:aw.handleChange,value:aw.values.zoomLink,InputProps:{style:{paddingLeft:"6px",fontFamily:"sans-serif"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.firstName&&aw.errors.firstName),helperText:aw.touched.firstName&&aw.errors.firstName,label:"First Name",margin:"normal",id:"firstName",name:"firstName",type:"text",onChange:aw.handleChange,value:aw.values.firstName,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.lastName&&aw.errors.lastName),helperText:aw.touched.lastName&&aw.errors.lastName,label:"Last Name",margin:"normal",id:"lastName",name:"lastName",type:"text",onChange:aw.handleChange,value:aw.values.lastName,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.city&&aw.errors.city),helperText:aw.touched.city&&aw.errors.city,label:"city",margin:"normal",id:"city",name:"city",type:"text",onChange:aw.handleChange,value:aw.values.city,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-adornment-roleId",children:"Role"}),(0,d.jsx)(A.Z,{name:"roleId",id:"outlined-adornment-roleId",labelId:"outlined-adornment-roleId",value:aw.values.roleId,onChange:aw.handleChange,children:null==W?void 0:W.map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:null==a?void 0:a.id,children:null==a?void 0:a.displayName},null==a?void 0:a.id)})})]}),(null==ak?void 0:ak.roleId)===4&&(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-adornment-department",children:"Department"}),(0,d.jsx)(A.Z,{name:"departmentId",id:"outlined-adornment-department",labelId:"outlined-adornment-department",value:aw.values.departmentId,onChange:aw.handleChange,children:null==Z?void 0:Z.map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:null==a?void 0:a.id,children:null==a?void 0:a.name},null==a?void 0:a.id)})})]}),(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-gender",children:"Gender"}),(0,d.jsx)(A.Z,{name:"gender",id:"outlined-gender",labelId:"outlined-gender",value:aw.values.gender,onChange:aw.handleChange,children:["male","female"].map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:a,children:a},a)})})]}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.birthDate&&aw.errors.birthDate),helperText:aw.touched.birthDate&&aw.errors.birthDate,label:"Date Of Birth",margin:"normal",id:"birthDate",name:"birthDate",type:"date",onChange:aw.handleChange,value:aw.values.birthDate,InputLabelProps:{shrink:!0}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(aw.touched.phoneNumber&&aw.errors.phoneNumber),helperText:aw.touched.phoneNumber&&aw.errors.phoneNumber,label:"phoneNumber",margin:"normal",id:"phoneNumber",name:"phoneNumber",type:"text",onChange:aw.handleChange,value:aw.values.phoneNumber,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)("div",{style:{textAlign:"right"},children:(0,d.jsx)(r.Z,{type:"submit",sx:{"& .MuiInputBase-root":{height:40},m:.5,p:1},variant:"contained",children:"Save"})})]})})})]}),(null==ak?void 0:ak.roleId)===4&&(null==T?void 0:null===(Q=T.role)|| void 0===Q?void 0:Q.name)==="super_admin"&&(0,d.jsx)(M.Q,{open:aa,setOpen:ab,sessions:ad,createSession:ay,sessionTypesToParent:ai})]})},P=c(9633),Q=c(1132),R=c(7709),S=c(7109),T=c(3946),U=c(3321),V=c(2961),W=c(2450),X=c(3657),Y=c(1996),Z=function(a){var b,c=a.id,g=(0,e.useState)(!1),h=g[0],i=g[1],j=(0,e.useState)(!1),k=j[0],l=j[1],o=(0,C.TA)({initialValues:{newPassword:"",confirmNewPassword:""},validationSchema:E.Ry({newPassword:E.Z_().min(7).required("password Is Required"),confirmNewPassword:E.Z_().test("passwords-match","Password Must Match",function(a){return this.parent.newPassword===a})}),onSubmit:(b=(0,m.Z)(q().mark(function a(b){var d,e,f,g;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=D.ZP.loading("change"),a.prev=1,e=b.newPassword,f=b.confirmNewPassword,a.next=5,Y.i.changePassword({id:c,newPassword:e,confirmNewPassword:f});case 5:(g=a.sent).success?(D.ZP.dismiss(d),D.ZP.success("change "),o.resetForm()):(D.ZP.dismiss(d),D.ZP.error("changeFailed")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),D.ZP.dismiss(d),D.ZP.error(a.t0.message||"changeFailed");case 13:case"end":return a.stop()}},a,null,[[1,9]])})),function(a){return b.apply(this,arguments)})}),p=function(){l(!0)},r=function(){o.handleBlur,l(!1)},v=function(){i(!h)},w=function(a){a.preventDefault()};return(0,d.jsx)(s.ZP,{container:!0,spacing:3,children:(0,d.jsx)(s.ZP,{item:!0,lg:5,md:6,sm:8,xs:12,children:(0,d.jsx)(t.Z,{elevation:12,sx:(0,n.Z)({display:"flex",flexDirection:"column",padding:"20px 40px",m:1},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:(0,d.jsxs)("form",{noValidate:!0,onSubmit:o.handleSubmit,children:[(0,d.jsxs)(y.Z,{sx:{width:"100%",marginTop:"10px"},variant:"outlined",children:[(0,d.jsx)(z.Z,{htmlFor:"outlined-adornment-password",children:"New Password"}),(0,d.jsx)(R.Z,{error:Boolean(o.touched.newPassword&&o.errors.newPassword),fullWidth:!0,label:"New Password",name:"newPassword",onBlur:r,onChange:o.handleChange,onFocus:p,value:o.values.newPassword,type:h?"text":"password",sx:{fontFamily:"sans-serif"},endAdornment:(0,d.jsx)(S.Z,{position:"end",children:(0,d.jsx)(T.Z,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:w,edge:"end",children:h?(0,d.jsx)(W.Z,{}):(0,d.jsx)(V.Z,{})})})}),!0===k&&(0,d.jsx)(X.e,{sx:{bottom:"-180px"},password:o.values.newPassword})]}),(0,d.jsx)(x.Z,{error:Boolean(o.touched.confirmNewPassword&&o.errors.confirmNewPassword),fullWidth:!0,helperText:o.touched.confirmNewPassword&&o.errors.confirmNewPassword,label:"Confirm New Password",margin:"normal",name:"confirmNewPassword",onBlur:o.handleBlur,onChange:o.handleChange,type:h?"text":"password",value:o.values.confirmNewPassword,InputProps:{style:{fontFamily:"sans-serif"}}}),(0,d.jsx)(f.Z,{sx:{mt:2},children:(0,d.jsx)(U.Z,{disabled:o.isSubmitting,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Change Password"})})]})})})})},$=function(){var a=(0,l.useRouter)().query.id,b=(0,N.a)().user,c=(0,e.useState)("1"),m=c[0],n=c[1],o=(null==b?void 0:b.roleId)===1,p=function(a,b){n(b)};return(0,d.jsx)(f.Z,{sx:{width:"100%",typography:"body1"},children:(0,d.jsxs)(h.ZP,{value:m,children:[(0,d.jsx)(f.Z,{sx:{borderBottom:1,borderColor:"divider",p:"10px 30px"},children:(0,d.jsxs)(i.Z,{variant:"scrollable",scrollButtons:"auto",onChange:p,"aria-label":"lab API tabs example",children:[(0,d.jsx)(g.Z,{label:"Profile",value:"1"}),o&&(0,d.jsx)(g.Z,{label:"Change Password",value:"2"})]})}),(0,d.jsxs)(j.Z,{value:"1",children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h4",children:"Profile"}),(0,d.jsx)(O,{id:Number(a)})]}),o&&(0,d.jsxs)(j.Z,{value:"2",children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h4",children:"Change Password"}),(0,d.jsx)(Z,{id:Number(a)})]})]})})};$.getLayout=function(a){return(0,d.jsx)(Q.a,{children:(0,d.jsx)(P.c,{children:a})})};var _=$}},function(a){a.O(0,[69,805,574,264,661,886,918,421,966,723,286,774,888,179],function(){var b;return a(a.s=2288)}),_N_E=a.O()}])