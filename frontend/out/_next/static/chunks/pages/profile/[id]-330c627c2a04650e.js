(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{2961:function(a,b,c){"use strict";var d=c(4836);b.Z=void 0;var e=d(c(4938)),f=c(5893),g=(0,e.default)((0,f.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");b.Z=g},2450:function(a,b,c){"use strict";var d=c(4836);b.Z=void 0;var e=d(c(4938)),f=c(5893),g=(0,e.default)((0,f.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");b.Z=g},2288:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return c(131)}])},8935:function(a,b,c){"use strict";c.d(b,{u:function(){return k}});var d=c(4727),e=c(5815),f=c(4051),g=c.n(f),h=c(5485),i=c(2071),j=function(){function a(){(0,e.Z)(this,a)}var b=a.prototype;return b.getDepts=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){var e={limit:a,offset:b};try{var f=h.E.get("/department/?".concat((0,i.K)(e)));c(f)}catch(g){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},b.createDept=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.post("/department/create",{name:a});b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.updateDept=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){try{var e=h.E.put("/department/".concat(a),b);c(e)}catch(f){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},b.deleteDepts=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.delete("/department/".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},a}(),k=new j},5535:function(a,b,c){"use strict";c.d(b,{h:function(){return j}});var d=c(4727),e=c(5815),f=c(4051),g=c.n(f),h=c(5485),i=function(){function a(){(0,e.Z)(this,a)}var b=a.prototype;return b.getRoles=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/roles");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getAllPermissions=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/permissions");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getRolePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.get("/settings/all/rolePermissions/?roleId=".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.addPermissions=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){try{var e=h.E.post("/settings/add/permission",{permissionIds:a,roleId:b});c(e)}catch(f){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},b.removePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.post("/settings/remove/permission",{rolePermissionsIds:a});b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},a}(),j=new i},2455:function(a,b,c){"use strict";c.d(b,{B:function(){return k}});var d=c(4727),e=c(5815),f=c(4051),g=c.n(f),h=c(5485),i=c(2071),j=function(){function a(){(0,e.Z)(this,a)}var b=a.prototype;return b.getUsers=function(a,b,c,e,f){return(0,d.Z)(g().mark(function d(){return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",new Promise(function(d,g){var j="/user/",k={limit:a,offset:b*a,roleId:c};try{if(e&&c){j="/user/?".concat((0,i.K)(k),"&roleId=").concat(e,"&roleId=").concat(f);var l=h.E.get(j);d(l)}else{var m=h.E.get("/user/?".concat((0,i.K)(k)));d(m)}}catch(n){g(Error("Internal server error"))}}));case 1:case"end":return d.stop()}},d)}))()},b.getAllParents=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/user/all/parents");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getUserById=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.get("/user/".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.deleteUser=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.delete("/user/".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.createUser=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.post("/user/create",a);b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.updateUser=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){try{var e=h.E.put("/user/".concat(a),b);c(e)}catch(f){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},a}(),k=new j},131:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return X}});var d=c(5893),e=c(7294),f=c(7357),g=c(44),h=c(5670),i=c(6568),j=c(4769),k=c(5861),l=c(1163),m=c(4727),n=c(4251),o=c(2875),p=c(4051),q=c.n(p),r=c(8987),s=c(6886),t=c(629),u=c(1796),v=c(8462),w=c(891),x=c(135),y=c(4054),z=c(3841),A=c(6703),B=c(8972),C=c(2175),D=c(6501),E=c(6310),F=c(2455),G=c(5535),H=c(4455),I=c(8935),J=c(381),K=c.n(J),L=function(a){var b,c,g,h=a.id,i=(0,e.useState)([]),j=i[0],l=i[1],p=(0,e.useState)([]),J=p[0],L=p[1],M=(0,H.s)(),N=(0,e.useState)({id:1,roleId:1,username:"",firstName:"",lastName:"",city:"",gender:"",birthDate:"",departmentId:1,email:"",zoomLink:"",phoneNumber:""}),O=N[0],P=N[1],Q=(0,e.useCallback)((0,m.Z)(q().mark(function a(){var b;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.u.getDepts(100,0);case 3:b=a.sent,M()&&L(b.rows),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),D.ZP.error(a.t0.message||"failed");case 10:case"end":return a.stop()}},a,null,[[0,7]])})),[M]),R=(0,e.useCallback)((0,m.Z)(q().mark(function a(){var b;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.h.getRoles();case 3:b=a.sent,M()&&l(b.resp),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),[M]);(0,e.useEffect)(function(){Q()},[]),(0,e.useEffect)(function(){R()},[]);var S,T,U,V,W=(g=(0,m.Z)(q().mark(function a(b){var c;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F.B.getUserById(b);case 3:P(c=a.sent),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return g.apply(this,arguments)}),X=(0,C.TA)({initialValues:{roleId:null==O?void 0:O.roleId,username:null==O?void 0:O.username,firstName:null==O?void 0:O.firstName,lastName:null==O?void 0:O.lastName,city:null==O?void 0:O.city,gender:null==O?void 0:O.gender,birthDate:null==O?void 0:O.birthDate,departmentId:null==O?void 0:O.departmentId,email:null==O?void 0:O.email,zoomLink:null==O?void 0:O.zoomLink,phoneNumber:null==O?void 0:O.phoneNumber},enableReinitialize:!0,validationSchema:(T=4===(S=null==O?void 0:O.roleId)?E.Z_().url("Zoom Link must be a url").required("Zoom link Is Required"):E.nK().nullable(),E.Ry({roleId:E.Rx(),username:E.Z_(),firstName:E.Z_(),lastName:E.Z_(),city:E.Z_(),gender:E.Z_(),birthDate:E.hT(),email:E.Z_().email("emailAddress"),zoomLink:T,phoneNumber:E.Z_()})),onSubmit:(U=(0,m.Z)(q().mark(function a(b){return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(null==O?void 0:O.roleId)!==4&&delete b.zoomLink,a.prev=1,a.next=4,Y(b);case 4:X.resetForm(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0);case 10:case"end":return a.stop()}},a,null,[[1,7]])})),function(a){return U.apply(this,arguments)})}),Y=(V=(0,m.Z)(q().mark(function a(b){var c,d;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=D.ZP.loading("update"),a.prev=1,a.next=4,F.B.updateUser(h,b);case 4:if(!(d=a.sent).success){a.next=12;break}return W(h),D.ZP.dismiss(c),D.ZP.success("updated"),a.abrupt("return",{success:!0});case 12:return D.ZP.dismiss(c),D.ZP.error("updateFailed"),a.abrupt("return",{success:!1});case 15:a.next=22;break;case 17:return a.prev=17,a.t0=a.catch(1),D.ZP.dismiss(c),D.ZP.error(a.t0.message||"updatesFailed"),a.abrupt("return",{success:!1});case 22:case"end":return a.stop()}},a,null,[[1,17]])})),function(a){return V.apply(this,arguments)});return(0,e.useEffect)(function(){W(h)},[h]),(0,d.jsx)(f.Z,{sx:{width:"100%",typography:"body1"},children:(0,d.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,d.jsx)(s.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,children:(0,d.jsxs)(t.Z,{elevation:12,sx:(0,n.Z)({display:"flex",flexDirection:"column",padding:"20px 25px",minHeight:"280px",m:1},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h6",children:"prsonal information"}),(0,d.jsxs)(s.ZP,{container:!0,component:v.Z,children:[(0,d.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[" ",(0,d.jsxs)(w.ZP,{children:["Username:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.username)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Email:"," ",(0,d.jsx)(k.Z,{color:"black",sx:{overflowWrap:"break-word",minWidth:"120px"},children:(null==O?void 0:O.email)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["First name:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.firstName)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Last name:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.lastName)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["City:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.city)||"No data"})," "]})]}),(0,d.jsxs)(s.ZP,{item:!0,xs:12,md:6,children:[(0,d.jsxs)(w.ZP,{children:["Role:"," ",(0,d.jsx)(k.Z,{color:"black",children:function(){switch(null==O?void 0:O.roleId){case 1:return"Super Admin";case 2:return"Admin";case 3:return"Teacher";case 4:return"Student";case 5:return"Parent";default:return""}}()||"No data"})," "]}),(null==O?void 0:O.roleId)===4&&(0,d.jsxs)(w.ZP,{children:["Department:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:null===(b=O.department)|| void 0===b?void 0:b.name)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Gender:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.gender)||"No data"})," "]}),(0,d.jsxs)(w.ZP,{children:["Date of birth:",(0,d.jsxs)(k.Z,{color:"black",children:[" ",K()((null==O?void 0:null===(c=O.birthDate)|| void 0===c?void 0:c.toString())||"No data").format("MMM-D-YYYY")]})," "]}),(0,d.jsxs)(w.ZP,{children:["Phone number:"," ",(0,d.jsx)(k.Z,{color:"black",children:(null==O?void 0:O.phoneNumber)||"No data"})," "]})]})]})]})}),(0,d.jsx)(s.ZP,{item:!0,lg:6,md:6,sm:12,xs:12,children:(0,d.jsx)(t.Z,{elevation:12,sx:(0,n.Z)({m:1,p:2,minHeight:"280px"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:(0,d.jsxs)("form",{onSubmit:X.handleSubmit,children:[(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.username&&X.errors.username),helperText:X.touched.username&&X.errors.username,label:"username",margin:"normal",id:"username",name:"username",type:"text",onChange:X.handleChange,value:X.values.username,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.email&&X.errors.email),helperText:X.touched.email&&X.errors.email,label:"email",margin:"normal",id:"email",name:"email",type:"email",onChange:X.handleChange,value:X.values.email,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(null==O?void 0:O.roleId)===4&&(0,d.jsx)(x.Z,{size:"small",sx:{width:{xs:"96%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.zoomLink&&X.errors.zoomLink),helperText:X.touched.zoomLink&&X.errors.zoomLink,label:"Zoom Link",margin:"normal",id:"zoomLink",name:"zoomLink",type:"text",onChange:X.handleChange,value:X.values.zoomLink,InputProps:{style:{paddingLeft:"6px",fontFamily:"sans-serif"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.firstName&&X.errors.firstName),helperText:X.touched.firstName&&X.errors.firstName,label:"First Name",margin:"normal",id:"firstName",name:"firstName",type:"text",onChange:X.handleChange,value:X.values.firstName,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.lastName&&X.errors.lastName),helperText:X.touched.lastName&&X.errors.lastName,label:"Last Name",margin:"normal",id:"lastName",name:"lastName",type:"text",onChange:X.handleChange,value:X.values.lastName,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.city&&X.errors.city),helperText:X.touched.city&&X.errors.city,label:"city",margin:"normal",id:"city",name:"city",type:"text",onChange:X.handleChange,value:X.values.city,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-adornment-roleId",children:"Role"}),(0,d.jsx)(A.Z,{name:"roleId",id:"outlined-adornment-roleId",labelId:"outlined-adornment-roleId",value:X.values.roleId,onChange:X.handleChange,children:null==j?void 0:j.map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:null==a?void 0:a.id,children:null==a?void 0:a.displayName},null==a?void 0:a.id)})})]}),(null==O?void 0:O.roleId)===4&&(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-adornment-department",children:"Department"}),(0,d.jsx)(A.Z,{name:"departmentId",id:"outlined-adornment-department",labelId:"outlined-adornment-department",value:X.values.departmentId,onChange:X.handleChange,children:null==J?void 0:J.map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:null==a?void 0:a.id,children:null==a?void 0:a.name},null==a?void 0:a.id)})})]}),(0,d.jsxs)(y.Z,{sx:{width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1,marginTop:3},variant:"outlined",children:[" ",(0,d.jsx)(z.Z,{sx:{top:-6},id:"outlined-gender",children:"Gender"}),(0,d.jsx)(A.Z,{name:"gender",id:"outlined-gender",labelId:"outlined-gender",value:X.values.gender,onChange:X.handleChange,children:["male","female"].map(function(a){return(0,d.jsx)(B.Z,{sx:(0,o.Z)((0,n.Z)({color:"black"},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),{fontFamily:"sans-serif"}),value:a,children:a},a)})})]}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.birthDate&&X.errors.birthDate),helperText:X.touched.birthDate&&X.errors.birthDate,label:"Date Of Birth",margin:"normal",id:"birthDate",name:"birthDate",type:"date",onChange:X.handleChange,value:X.values.birthDate,InputLabelProps:{shrink:!0}}),(0,d.jsx)(x.Z,{size:"small",sx:{mt:3,width:{xs:"100%",sm:"47.5%",md:"31.5%"},"& .MuiInputBase-root":{height:40},mr:1},error:Boolean(X.touched.phoneNumber&&X.errors.phoneNumber),helperText:X.touched.phoneNumber&&X.errors.phoneNumber,label:"phoneNumber",margin:"normal",id:"phoneNumber",name:"phoneNumber",type:"text",onChange:X.handleChange,value:X.values.phoneNumber,InputProps:{style:{fontFamily:"sans-serif",color:"black"}}}),(0,d.jsx)("div",{style:{textAlign:"right"},children:(0,d.jsx)(r.Z,{type:"submit",sx:{"& .MuiInputBase-root":{height:40},m:.5,p:1},variant:"contained",children:"Save"})})]})})})]})})},M=c(9633),N=c(1132),O=c(7058),P=c(7109),Q=c(3946),R=c(3321),S=c(2961),T=c(2450),U=c(1996),V=function(a){var b,c=a.id,g=(0,e.useState)(!1),h=g[0],i=g[1],j=(0,e.useState)(!1),k=(j[0],j[1]),l=(0,C.TA)({initialValues:{currentPassword:"",newPassword:"",confirmNewPassword:""},onSubmit:(b=(0,m.Z)(q().mark(function a(b){var d,e,f,g,h;return q().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=D.ZP.loading("change"),a.prev=1,e=b.currentPassword,f=b.newPassword,g=b.confirmNewPassword,a.next=5,U.i.changePassword({id:c,currentPassword:e,newPassword:f,confirmNewPassword:g});case 5:(h=a.sent).success?(D.ZP.dismiss(d),D.ZP.success("change "),l.resetForm()):(D.ZP.dismiss(d),D.ZP.error("changeFailed")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),D.ZP.dismiss(d),D.ZP.error(a.t0.message||"changeFailed");case 13:case"end":return a.stop()}},a,null,[[1,9]])})),function(a){return b.apply(this,arguments)})}),o=function(){k(!0)},p=function(){l.handleBlur,k(!1)},r=function(){i(!h)},v=function(a){a.preventDefault()};return(0,d.jsx)(s.ZP,{container:!0,spacing:3,children:(0,d.jsx)(s.ZP,{item:!0,lg:5,md:6,sm:8,xs:12,children:(0,d.jsx)(t.Z,{elevation:12,sx:(0,n.Z)({display:"flex",flexDirection:"column",padding:"20px 40px",m:1},{bgcolor:function(a){return(0,u.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:(0,d.jsxs)("form",{noValidate:!0,onSubmit:l.handleSubmit,children:[(0,d.jsxs)(y.Z,{sx:{width:"100%",marginTop:"10px"},variant:"outlined",children:[(0,d.jsx)(z.Z,{htmlFor:"outlined-adornment-password",children:"Current Password"}),(0,d.jsx)(O.Z,{error:Boolean(l.touched.currentPassword&&l.errors.currentPassword),fullWidth:!0,label:"Current Password",name:"currentPassword",onChange:l.handleChange,value:l.values.currentPassword,type:h?"text":"password",sx:{fontFamily:"sans-serif"},endAdornment:(0,d.jsx)(P.Z,{position:"end",children:(0,d.jsx)(Q.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:v,edge:"end",children:h?(0,d.jsx)(T.Z,{}):(0,d.jsx)(S.Z,{})})})})]}),(0,d.jsxs)(y.Z,{sx:{width:"100%",marginTop:"10px"},variant:"outlined",children:[(0,d.jsx)(z.Z,{htmlFor:"outlined-adornment-password",children:"New Password"}),(0,d.jsx)(O.Z,{error:Boolean(l.touched.newPassword&&l.errors.newPassword),fullWidth:!0,label:"New Password",name:"newPassword",onBlur:p,onChange:l.handleChange,onFocus:o,value:l.values.newPassword,type:h?"text":"password",sx:{fontFamily:"sans-serif"},endAdornment:(0,d.jsx)(P.Z,{position:"end",children:(0,d.jsx)(Q.Z,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:v,edge:"end",children:h?(0,d.jsx)(T.Z,{}):(0,d.jsx)(S.Z,{})})})})]}),(0,d.jsx)(x.Z,{error:Boolean(l.touched.confirmNewPassword&&l.errors.confirmNewPassword),fullWidth:!0,helperText:l.touched.confirmNewPassword&&l.errors.confirmNewPassword,label:"Confirm New Password",margin:"normal",name:"confirmNewPassword",onBlur:l.handleBlur,onChange:l.handleChange,type:h?"text":"password",value:l.values.confirmNewPassword,InputProps:{style:{fontFamily:"sans-serif"}}}),(0,d.jsx)(f.Z,{sx:{mt:2},children:(0,d.jsx)(R.Z,{disabled:l.isSubmitting,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Change Password"})})]})})})})},W=function(){var a=(0,l.useRouter)().query.id,b=(0,e.useState)("1"),c=b[0],m=b[1],n=function(a,b){m(b)};return(0,d.jsx)(f.Z,{sx:{width:"100%",typography:"body1"},children:(0,d.jsxs)(h.ZP,{value:c,children:[(0,d.jsx)(f.Z,{sx:{borderBottom:1,borderColor:"divider",p:"10px 30px"},children:(0,d.jsxs)(i.Z,{variant:"scrollable",scrollButtons:"auto",onChange:n,"aria-label":"lab API tabs example",children:[(0,d.jsx)(g.Z,{label:"Profile",value:"1"}),(0,d.jsx)(g.Z,{label:"Change Password",value:"2"})]})}),(0,d.jsxs)(j.Z,{value:"1",children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h4",children:"Profile"}),(0,d.jsx)(L,{id:Number(a)})]}),(0,d.jsxs)(j.Z,{value:"2",children:[(0,d.jsx)(k.Z,{color:"inherit",variant:"h4",children:"Change Password"}),(0,d.jsx)(V,{id:Number(a)})]})]})})};W.getLayout=function(a){return(0,d.jsx)(N.a,{children:(0,d.jsx)(M.c,{children:a})})};var X=W},2071:function(a,b,c){"use strict";c.d(b,{K:function(){return e}});var d=c(6486),e=function(a){var b=Object.keys(a),c=[];return a?(b.forEach(function(b){((0,d.isEmpty)(a[b])||(0,d.isNil)(a[b]))&&"number"!=typeof a[b]||c.push("".concat(b,"=").concat(a[b])),("archived"===b||"exported"===b)&&c.push("".concat(b,"=").concat(a[b]))}),c.join("&")):""}}},function(a){a.O(0,[805,577,307,931,764,886,723,774,888,179],function(){var b;return a(a.s=2288)}),_N_E=a.O()}])