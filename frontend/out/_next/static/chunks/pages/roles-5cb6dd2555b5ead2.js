(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{5390:function(a,b,c){"use strict";var d=c(4836);b.Z=void 0;var e=d(c(4938)),f=c(5893),g=(0,e.default)((0,f.jsx)("path",{d:"M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z"}),"Widgets");b.Z=g},9943:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/roles",function(){return c(3111)}])},5535:function(a,b,c){"use strict";c.d(b,{h:function(){return j}});var d=c(4727),e=c(5815),f=c(4051),g=c.n(f),h=c(5485),i=function(){function a(){(0,e.Z)(this,a)}var b=a.prototype;return b.getRoles=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/roles");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getAllPermissions=function(){return(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,b){try{var c=h.E.get("/settings/all/permissions");a(c)}catch(d){b(Error("Internal server error"))}}));case 1:case"end":return a.stop()}},a)}))()},b.getRolePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.get("/settings/all/rolePermissions/?roleId=".concat(a));b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},b.addPermissions=function(a,b){return(0,d.Z)(g().mark(function c(){return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(c,d){try{var e=h.E.post("/settings/add/permission",{permissionIds:a,roleId:b});c(e)}catch(f){d(Error("Internal server error"))}}));case 1:case"end":return c.stop()}},c)}))()},b.removePermissions=function(a){return(0,d.Z)(g().mark(function b(){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(b,c){try{var d=h.E.post("/settings/remove/permission",{rolePermissionsIds:a});b(d)}catch(e){c(Error("Internal server error"))}}));case 1:case"end":return b.stop()}},b)}))()},a}(),j=new i},5086:function(a,b,c){"use strict";c.d(b,{t:function(){return j}});var d=c(5893),e=c(7294),f=c(1163),g=c(5697),h=c.n(g),i=c(7704),j=function(a){var b=a.children,c=(0,i.a)().user,g=(0,f.useRouter)(),h=(0,e.useState)(!1),j=h[0],k=h[1];return((0,e.useEffect)(function(){g.isReady&&((null==c?void 0:c.roleId)!==1?g.push({pathname:"/sessions",query:{returnUrl:g.asPath}}).catch(console.error):k(!0))},[g.isReady]),j)?(0,d.jsx)(d.Fragment,{children:b}):null};j.propTypes={children:h().node}},1910:function(a,b,c){"use strict";c.d(b,{m:function(){return k}});var d=c(4251),e=c(5893),f=c(2734),g=c(1796),h=c(3252),i=c(3184),j=c(3816),k=function(a){var b=a.headCells;return(0,f.Z)(),(0,e.jsx)(i.Z,{sx:(0,d.Z)({width:"100%",mb:2},{bgcolor:function(a){return(0,g.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:(0,e.jsx)(j.Z,{children:b.map(function(a,b){return(0,e.jsx)(h.Z,{padding:a.disablePadding?"none":"normal",sx:{color:function(a){return a.palette.info.main}},children:a.label},a.id)})})})}},3111:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return H}});var d=c(5893),e=c(9633),f=c(7357),g=c(4727),h=c(4251),i=c(4051),j=c.n(i),k=c(7294),l=c(1796),m=c(7906),n=c(295),o=c(2882),p=c(629),q=c(155),r=c(5861),s=c(1664),t=c.n(s),u=c(3252),v=c(3816),w=c(3321),x=c(5390),y=function(a){var b=a.row;return a.labelId,(0,d.jsx)(k.Fragment,{children:(0,d.jsxs)(v.Z,{sx:{"& > *":{borderBottom:0}},children:[(0,d.jsx)(u.Z,{scope:"row",sx:{color:"black"},children:b.displayName}),(0,d.jsx)(u.Z,{scope:"row",sx:{},children:(0,d.jsx)(t(),{href:"/roles/".concat(b.id,"?role=").concat(b.displayName,"&name=").concat(b.name),passHref:!0,children:(0,d.jsx)(w.Z,{startIcon:(0,d.jsx)(x.Z,{}),children:"Permissions"})})})]})})},z=c(1910),A=c(6501),B=c(5535),C=c(4455),D=function(){var a=(0,k.useState)(),b=a[0],c=a[1],e=(0,C.s)();(0,k.useEffect)(function(){i()},[]);var i=(0,k.useCallback)((0,g.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.h.getRoles();case 3:b=a.sent,e()&&c(b.resp),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),A.ZP.error(a.t0.message||"failed");case 10:case"end":return a.stop()}},a,null,[[0,7]])})),[e]),s=[{id:"role",numeric:!1,disablePadding:!0,label:"Role name"},{id:"action",numeric:!1,disablePadding:!0,label:"Action"},];return(0,d.jsx)(f.Z,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,d.jsxs)(p.Z,{elevation:9,sx:(0,h.Z)({p:"10px 10px",width:"100%"},{bgcolor:function(a){return(0,l.Fq)(a.palette.info.contrastText,a.palette.action.activatedOpacity)}}),children:[" ",(0,d.jsx)(q.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:(0,d.jsx)(r.Z,{sx:{flex:"1 1 100%"},variant:"h5",id:"tableTitle",component:"div",children:"Roles List"})}),(0,d.jsx)(o.Z,{children:(0,d.jsxs)(m.Z,{sx:{minWidth:100*s.length},"aria-labelledby":"tableTitle",size:"small",children:[(0,d.jsx)(z.m,{headCells:s}),(0,d.jsx)(n.Z,{children:null==b?void 0:b.map(function(a,b){var c="enhanced-table-checkbox-".concat(b);return(0,d.jsx)(y,{row:a,labelId:c},a.id)})})]})})]})})},E=c(1132),F=c(5086),G=function(){return(0,d.jsx)(f.Z,{sx:{width:"100%",typography:"body1"},children:(0,d.jsx)(D,{})})};G.getLayout=function(a){return(0,d.jsx)(E.a,{children:(0,d.jsx)(F.t,{children:(0,d.jsx)(e.c,{children:a})})})};var H=G}},function(a){a.O(0,[805,494,411,723,774,888,179],function(){var b;return a(a.s=9943)}),_N_E=a.O()}])